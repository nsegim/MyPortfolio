;/*FB_PKG_DELIM*/

__d("BasePopoverDownEdgeArrow.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({"aria-hidden":!0,height:12,viewBox:"0 0 21 12",width:21},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M21 0c-2.229.424-4.593 2.034-6.496 3.523L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V0h21Z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("BasePopoverDownInsetArrow.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({"aria-hidden":!0,height:12,viewBox:"0 0 25 12",width:25},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M24.453.001c-2.791.32-5.922 1.53-7.78 3.455l-9.62 7.023c-2.45 2.54-5.78 1.645-5.78-2.487V1.983C1.273 1.089.746.32 0 0h24.453v.001Z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("BasePopoverRightEdgeArrow.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({"aria-hidden":!0,height:21,viewBox:"0 0 12 21",width:12},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12Z",transform:"rotate(-90 10.498 10.488)"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("BasePopoverRightInsetArrow.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({"aria-hidden":!0,height:25,viewBox:"0 0 12 25",width:12},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M24.553.103c-2.791.32-5.922 1.53-7.78 3.455l-9.62 7.023c-2.45 2.54-5.78 1.645-5.78-2.487V2.085C1.373 1.19.846.422.1.102z",transform:"rotate(-90 12.5 12.48)"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("BasePopoverSVGArrowContainer.react",["BaseContextualLayerContextSizeContext","BaseContextualLayerLayerAdjustmentContext","BaseContextualLayerOrientationContext","BasePopoverDownEdgeArrow.svg.react","BasePopoverDownInsetArrow.svg.react","BasePopoverReflowSheetContext","BasePopoverRightEdgeArrow.svg.react","BasePopoverRightInsetArrow.svg.react","Locale","react","stylex","testID"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useMemo,m=3,n=c("Locale").isRTL(),o=25,p={arrow:{filter:"xem7dle",position:"x10l6tqk",$$css:!0},container:{position:"x1n2onr6",$$css:!0}},q={above:{marginBottom:"x1fqp7bg",$$css:!0},below:{marginTop:"xcxhlts",$$css:!0},end:{marginStart:"x13ibhcj",marginLeft:null,marginRight:null,$$css:!0},start:{marginEnd:"x1jqylkn",marginLeft:null,marginRight:null,$$css:!0}},r={above:{top:"x11k2h6o",$$css:!0},below:{bottom:"xng853d",$$css:!0},end:{end:"x1gozi89",left:null,right:null,$$css:!0},start:{start:"x1ke83zm",left:null,right:null,$$css:!0}},s={end:{end:"xdlq8gc",left:null,right:null,$$css:!0},middle:{start:"xu8u0ou",left:null,right:null,$$css:!0},start:{start:"xncvr77",left:null,right:null,$$css:!0},stretch:{$$css:!0}},t={end:{bottom:"x1ey2m1c",$$css:!0},middle:{top:"x18g6o9x",$$css:!0},start:{top:"x13vifvy",$$css:!0},stretch:{$$css:!0}};function u(a,b,c){c=c-m;if(!a)return b==="end"||b==="middle"?c*-1:c;return n&&b==="start"||!n&&b==="end"?c*-1:c}function v(a){var b=a.arrowAlignment,c=a.contextSize,d=a.layerAdjustment,e=a.popoverAlign;a=a.popoverPosition;d=d!==0&&e!=="middle"?-d:0;a=a==="below"||a==="above";if(b!=="edge"&&c!=null){b=a?c.width:c.height;c=b>0?b/2:0;c!==0&&(d+=u(a,e,e==="middle"?o/2:c))}return d===0?{}:{transform:a?"translateX("+d+"px)":"translateY("+d+"px)"}}function w(a,b){return a==="above"||a==="below"?b==="middle"?c("BasePopoverDownInsetArrow.svg.react"):c("BasePopoverDownEdgeArrow.svg.react"):b==="middle"?c("BasePopoverRightInsetArrow.svg.react"):c("BasePopoverRightEdgeArrow.svg.react")}e=j.forwardRef(a);function a(a,b){var d,e=a.arrowAlignment,f=e===void 0?"center":e;e=a.children;var g=a.testid,i=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["arrowAlignment","children","testid","xstyle"]);var m=k(c("BaseContextualLayerOrientationContext")),o=m.align,u=m.position,x=k(c("BaseContextualLayerContextSizeContext"));m=w(u,o);var y=(d=k(c("BaseContextualLayerLayerAdjustmentContext")))!=null?d:0;d=l(function(){var a=n?"start":"end",b=n?"end":"start",c=o==="end"&&!n||o==="start"&&n,d=o==="middle"?-y:0,e=1,g=1,h=0,i=0;switch(u){case"above":h+=d;c&&(e=-1);break;case"below":h+=d;g=-1;c&&(e=-1);break;case b:i+=d;o==="start"&&(g=-1);break;case a:i+=d;e=-1;o==="start"&&(g=-1);break}return{arrowStyle:{transform:"scale("+e+", "+g+") translate("+h+"px, "+i+"px)"},containerStyle:v({arrowAlignment:f,contextSize:x,layerAdjustment:y,popoverAlign:o,popoverPosition:u})}},[o,f,x,y,u]);var z=d.arrowStyle;d=d.containerStyle;var A=k(c("BasePopoverReflowSheetContext"));A=A.isReflowSheet;return j.jsxs("div",babelHelpers["extends"]({},a,{className:(h||(h=c("stylex")))(p.container,q[u],i),ref:b,style:A?null:d},c("testID")(g),{children:[e,j.jsx(m,{className:h(p.arrow,r[u],(u==="start"||u==="end")&&t[o],(u==="above"||u==="below")&&s[o]),fill:"var(--card-background)",style:z})]}))}a.displayName=a.name+" [from "+f.id+"]";d=e;g["default"]=d}),98);
__d("IGDAddEmojiToComposerForLexical",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b.focus(function(){b.update(function(){var b=String.fromCodePoint.apply(String,a);b=d("Lexical").$createTextNode(b);d("Lexical").$insertNodes([b])})})}g["default"]=a}),98);
__d("IGDComposerAttachmentButton.react",["fbt","CometFileSelector.react","IGDSIconButton.react","IGDSPhotoOutlineIcon.react","IGDThreadListNewMessageLoggingDataContext","MWPActor.react","MessengerWebUXLogger","ReQL","ReQLSuspense","getInstamadilloLoggingExtraData","promiseDone","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.c,m=c("requireDeferred")("MWLogMessageAction").__setRef("IGDComposerAttachmentButton.react");function n(a){var b=l(2),c;b[0]!==a?(c=function(b){b=Array.from(b);if(b.length>0)return a(b)},b[0]=a,b[1]=c):c=b[1];return c}function a(a){var b=l(20),e=a.multiple,g=a.onAttachmentsAdded,j=a.supportedFileTypes,o=a.threadKey;a=e===void 0?!0:e;var p=(i||(i=c("useReStore")))(),q=d("MWPActor.react").useActor();e=n(g);b[0]!==p.tables.threads||b[1]!==o?(g=function(){return d("ReQL").fromTableAscending(p.tables.threads).getKeyRange(o)},b[0]=p.tables.threads,b[1]=o,b[2]=g):g=b[2];var r;b[3]!==p||b[4]!==o?(r=[p,o],b[3]=p,b[4]=o,b[5]=r):r=b[5];g=d("ReQLSuspense").useFirst(g,r,f.id+":60");var s=c("MessengerWebUXLogger").useInteractionLogger(),t=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();b[6]!==g?(r=c("getInstamadilloLoggingExtraData")(g),b[6]=g,b[7]=r):r=b[7];var u=r;b[8]!==s||b[9]!==u||b[10]!==t||b[11]!==p||b[12]!==o||b[13]!==q?(g=function(a){return k.jsx(c("IGDSIconButton.react"),{onClick:function(){s==null?void 0:s({eventName:"composer_open_file_picker",extraData:babelHelpers["extends"]({},u),flowInstanceId:t}),a(),m.onReady(function(a){return c("promiseDone")(a.log(p,void 0,o,"composer","attach",void 0,void 0,void 0,void 0,"image",q))})},children:k.jsx(c("IGDSPhotoOutlineIcon.react"),{alt:h._("__JHASH__ffgxgUxbaWG__JHASH__"),color:"ig-primary-text"})})},b[8]=s,b[9]=u,b[10]=t,b[11]=p,b[12]=o,b[13]=q,b[14]=g):g=b[14];b[15]!==j||b[16]!==a||b[17]!==e||b[18]!==g?(r=k.jsx(c("CometFileSelector.react"),{accept:j,multiple:a,onFilesSelected:e,children:g}),b[15]=j,b[16]=a,b[17]=e,b[18]=g,b[19]=r):r=b[19];return r}g["default"]=a}),226);
__d("IGDComposerEmojiButton.react",["fbt","FDSPopoverLoadingState.react","IGDAddEmojiToComposerForLexical","IGDSBox.react","IGDSFace2OutlineIcon.react","IGDSIconButton.react","IGDSLazyPopoverTrigger.react","IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","MessengerWebUXLogger","ReQL","ReQLSuspense","getInstamadilloLoggingExtraData","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={button:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0}},n=c("JSResourceForInteraction")("IGDComposerEmojiPicker.react").__setRef("IGDComposerEmojiButton.react");function a(a){var b=k(26),e=a.editor,g=a.threadKey,j=(i||(i=c("useReStore")))();b[0]!==j.tables.threads||b[1]!==g?(a=function(){return d("ReQL").fromTableAscending(j.tables.threads).getKeyRange(g)},b[0]=j.tables.threads,b[1]=g,b[2]=a):a=b[2];var o;b[3]!==j||b[4]!==g?(o=[j,g],b[3]=j,b[4]=g,b[5]=o):o=b[5];a=d("ReQLSuspense").useFirst(a,o,f.id+":50");b[6]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._("__JHASH__VkhGNWsM0xI__JHASH__").toString(),b[6]=o):o=b[6];var p=o;b[7]!==e?(o=function(a){c("IGDAddEmojiToComposerForLexical")(a,e)},b[7]=e,b[8]=o):o=b[8];o=o;var q=c("MessengerWebUXLogger").useInteractionLogger(),r=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),s;b[9]!==a?(s=c("getInstamadilloLoggingExtraData")(a),b[9]=a,b[10]=s):s=b[10];var t=s;b[11]!==t||b[12]!==r?(a={eventName:"composer_emoji_picker_button_rendered",extraData:t,flowInstanceId:r},b[11]=t,b[12]=r,b[13]=a):a=b[13];var u=c("MessengerWebUXLogger").useImpressionLoggerRef(a);b[14]===Symbol["for"]("react.memo_cache_sentinel")?(s=l.jsx(c("FDSPopoverLoadingState.react"),{withArrow:!0}),b[14]=s):s=b[14];b[15]!==o||b[16]!==g?(a={onSelect:o,threadKey:g},b[15]=o,b[16]=g,b[17]=a):a=b[17];b[18]!==u||b[19]!==q||b[20]!==t||b[21]!==r?(o=function(a,b){return l.jsx(c("IGDSBox.react"),{containerRef:u,children:l.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,innerRef:a,onClick:function(){b(),q==null?void 0:q({eventName:"composer_open_emoji_picker",extraData:t,flowInstanceId:r})},xstyle:m.button,children:l.jsx(c("IGDSFace2OutlineIcon.react"),{alt:p,color:"ig-primary-text"})})})},b[18]=u,b[19]=q,b[20]=t,b[21]=r,b[22]=o):o=b[22];b[23]!==a||b[24]!==o?(s=l.jsx(c("IGDSLazyPopoverTrigger.react"),{align:"start",fallback:s,popoverProps:a,popoverResource:n,position:"above",children:o}),b[23]=a,b[24]=o,b[25]=s):s=b[25];return s}g["default"]=a}),226);
__d("IGDComposerMediaStaging.react",["fbt","CometFileSelector.react","CometImage.react","FDSImageCover.react","I64","IGDSCircleXOutlineIcon.react","IGDSIconButton.react","IGDSMediaOutlineIcon.react","IGDSPhotoOutlineIcon.react","IGDSText.react","LSIntEnum","MWMediaComposerRenderQpl","MWMediaManager","MessagingAttachmentType","react","stylex","useIGDMediaMangerUploadFailedToast"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react"));b=j;b.useCallback;var n=b.useEffect,o=b.c,p={fileContainer:{width:"x2pejg6",$$css:!0},filePreviewContainer:{backgroundColor:"x1ybostu",width:"x2pejg6",$$css:!0},itemContainer:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",marginTop:"xr9ek0c",marginEnd:"xq8finb",marginBottom:"xzueoph",marginStart:"x1mh8g0r",position:"x1n2onr6",width:"x1useyqa",$$css:!0},previewContainer:{borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",height:"xsdox4t",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x1useyqa",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"x1a4onnt",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",justifyContent:"xl56j7k",marginEnd:"xq8finb",marginLeft:null,marginRight:null,position:"x1n2onr6",width:"x1useyqa",$$css:!0}},q=h._("__JHASH__luYLgOAOqD8__JHASH__"),r=h._("__JHASH__Ucpbsp424i9__JHASH__"),s=h._("__JHASH__S0T9GbUzGf-__JHASH__"),t=h._("__JHASH__tFATIgp0gLR__JHASH__");function u(a){var b=o(2),c;b[0]!==a?(c=function(b){b=Array.from(b);b.length>0&&a(b)},b[0]=a,b[1]=c):c=b[1];return c}function v(a){var b=o(4),d=a.multiple,e=a.onAttachmentsAdded;a=a.supportedFileTypes;d=d===void 0?!0:d;e=u(e);var f;b[0]!==a||b[1]!==d||b[2]!==e?(f=m.jsx(c("CometFileSelector.react"),{accept:a,multiple:d,onFilesSelected:e,children:w}),b[0]=a,b[1]=d,b[2]=e,b[3]=f):f=b[3];return f}function w(a){return m.jsx(c("IGDSIconButton.react"),{onClick:a,xstyle:p.root,children:m.jsx(c("IGDSPhotoOutlineIcon.react"),{alt:r,color:"ig-primary-text"})})}w.displayName=w.name+" [from "+f.id+"]";function x(a){var b=o(4);a=a.onPress;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="x11xbgvx x10l6tqk xu5yr9u",b[0]=d):d=b[0];var e;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=m.jsx(c("IGDSCircleXOutlineIcon.react"),{alt:q,color:"ig-primary-text",size:18}),b[1]=e):e=b[1];b[2]!==a?(d=m.jsx("div",{className:d,children:m.jsx(c("IGDSIconButton.react"),{onClick:a,children:e})}),b[2]=a,b[3]=d):d=b[3];return d}var y=function(a){return a.mimeType==="image/gif"||a.mimeType==="image/webp"};function z(a){var b=o(24),e=a.mediaStagingItem,f=a.onError;a=a.onLoad;var g=e.attachmentType,h=e.previewUrl||"";if(y(e)){if(h!==null){var i;b[0]!==h?(i=m.jsx(c("FDSImageCover.react"),{alt:s,src:h}),b[0]=h,b[1]=i):i=b[1];return i}}else if((k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))){if(h!==null){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(i="xl1xv1r",b[2]=i):i=b[2];var j;b[3]!==f?(j=function(a){return f("load-video-error",{string:{video_error_name:a}})},b[3]=f,b[4]=j):j=b[4];b[5]!==j||b[6]!==a||b[7]!==h?(i=m.jsx("video",{className:i,height:"48",onError:j,onLoadedData:a,src:h,width:"48"}),b[5]=j,b[6]=a,b[7]=h,b[8]=i):i=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(j=m.jsx("div",{className:"x16hk5td x7wgvq7 x10l6tqk xtzzx4i xwa60dl",children:m.jsx(c("CometImage.react"),{src:"/images/video/play_24dp.png"})}),b[9]=j):j=b[9];b[10]!==i?(j=m.jsxs(m.Fragment,{children:[i,j]}),b[10]=i,b[11]=j):j=b[11];return j}}else if((k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))){if(h!==null){b[12]!==f?(i=function(){return f("load-image-error")},b[12]=f,b[13]=i):i=b[13];b[14]!==i||b[15]!==a||b[16]!==h?(j=m.jsx(c("FDSImageCover.react"),{alt:"",onError:i,onLoad:a,src:h}),b[14]=i,b[15]=a,b[16]=h,b[17]=j):j=b[17];return j}}else{b[18]===Symbol["for"]("react.memo_cache_sentinel")?(g="x6s0dn4 x78zum5 xurb0ha x1sxyh0 x1iorvi4 xjkvuk6 x87ps6o",i=m.jsx(c("IGDSMediaOutlineIcon.react"),{alt:t}),a="x1iyjqo2",b[18]=g,b[19]=i,b[20]=a):(g=b[18],i=b[19],a=b[20]);b[21]!==e.filename?(h=m.jsxs("div",{className:g,children:[i,m.jsx("div",{className:a,children:m.jsxs(c("IGDSText.react"),{maxLines:2,weight:"light",children:[" ",e.filename," "]})})]}),b[21]=e.filename,b[22]=h):h=b[22];return h}b[23]===Symbol["for"]("react.memo_cache_sentinel")?(j=m.jsx(m.Fragment,{}),b[23]=j):j=b[23];return j}function A(a){var b=o(27),e=a.mediaStagingItem,f=a.onAttachmentRemoved,g=d("MWMediaComposerRenderQpl").useMediaComposerRenderQpl(e),h;b[0]!==g?(a=function(){g==null?void 0:g.addPoint("staging-item-render")},h=[g],b[0]=g,b[1]=a,b[2]=h):(a=b[1],h=b[2]);n(a,h);b[3]!==g?(a=function(a,b){g==null?void 0:g.endFail(a,b)},b[3]=g,b[4]=a):a=b[4];h=a;b[5]!==g?(a=function(){g==null?void 0:g.endSuccess()},b[5]=g,b[6]=a):a=b[6];a=a;var j;b[7]!==f||b[8]!==e.offlineAttachmentId?(j=function(){f(e.offlineAttachmentId)},b[7]=f,b[8]=e.offlineAttachmentId,b[9]=j):j=b[9];j=j;var q=!(k||(k=d("I64"))).equal(e.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))&&!(k||(k=d("I64"))).equal(e.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))&&!y(e),r=q&&p.fileContainer,s;b[10]!==r?(s=(i||(i=c("stylex")))(p.itemContainer,r),b[10]=r,b[11]=s):s=b[11];r=q&&p.filePreviewContainer;b[12]!==r?(q=(i||(i=c("stylex")))(p.previewContainer,r),b[12]=r,b[13]=q):q=b[13];b[14]!==e||b[15]!==h||b[16]!==a?(r=m.jsx(z,{mediaStagingItem:e,onError:h,onLoad:a}),b[14]=e,b[15]=h,b[16]=a,b[17]=r):r=b[17];b[18]!==q||b[19]!==r?(h=m.jsx("div",{className:q,children:r}),b[18]=q,b[19]=r,b[20]=h):h=b[20];b[21]!==j?(a=m.jsx(x,{onPress:j}),b[21]=j,b[22]=a):a=b[22];b[23]!==s||b[24]!==h||b[25]!==a?(q=m.jsxs("div",{className:s,children:[h,a]}),b[23]=s,b[24]=h,b[25]=a,b[26]=q):q=b[26];return q}function a(a){var b=o(18),e=a.hideUploadPlaceholder,f=a.multiple,g=a.supportedFileTypes;a=a.thread;e=e===void 0?!1:e;f=f===void 0?!0:f;var h=c("useIGDMediaMangerUploadFailedToast")(),i;b[0]!==h||b[1]!==a?(i={showUploadFailureToast:h,thread:a},b[0]=h,b[1]=a,b[2]=i):i=b[2];h=d("MWMediaManager").useMediaManager(i);var j=h.handleFileRemove;a=h.handleFileSelect;i=h.mediaStaging;if(i.length===0){b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=m.jsx(m.Fragment,{}),b[3]=h):h=b[3];return h}else{b[4]===Symbol["for"]("react.memo_cache_sentinel")?(h="x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xn6708d xsag5q8 x1ye3gou xh8yej3",b[4]=h):h=b[4];if(b[5]!==i||b[6]!==j){var k;b[8]!==j?(k=function(a){return m.jsx(A,{mediaStagingItem:a,onAttachmentRemoved:j},a.offlineAttachmentId)},b[8]=j,b[9]=k):k=b[9];k=Array.from(i).map(k);b[5]=i;b[6]=j;b[7]=k}else k=b[7];b[10]!==e||b[11]!==f||b[12]!==a||b[13]!==g?(i=e?null:m.jsx(v,{multiple:f,onAttachmentsAdded:a,supportedFileTypes:g}),b[10]=e,b[11]=f,b[12]=a,b[13]=g,b[14]=i):i=b[14];b[15]!==k||b[16]!==i?(e=m.jsxs("div",{className:h,children:[k,i]}),b[15]=k,b[16]=i,b[17]=e):e=b[17];return e}}g["default"]=a}),226);
__d("IGDSHeartOutlineIcon.react",["IGDSHeartPanoOutlineIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(2),d;b[0]!==a?(d=j.jsx(c("IGDSHeartPanoOutlineIcon.react"),babelHelpers["extends"]({},a)),b[0]=a,b[1]=d):d=b[1];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDHeartLikeButton.react",["fbt","IGDSHeartOutlineIcon.react","IGDSIconButton.react","IGDThreadListNewMessageLoggingDataContext","IGDWebHeartConst","Int64Hooks","MWPActor.react","MessengerWebUXLogger","getInstamadilloLoggingExtraData","promiseDone","react","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=c("requireDeferred")("MWLogMessageAction").__setRef("IGDHeartLikeButton.react"),m=h._("__JHASH__6U7UDSmCorj__JHASH__");function a(a){var b=j(14),e=a.onSendMessage,f=a.thread,g=c("useAsyncReStore")(),h=d("MWPActor.react").useActor(),i=c("MessengerWebUXLogger").useInteractionLogger(),n=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();b[0]!==f?(a=c("getInstamadilloLoggingExtraData")(f),b[0]=f,b[1]=a):a=b[1];var o=a,p;b[2]!==i||b[3]!==o||b[4]!==n||b[5]!==e||b[6]!==g||b[7]!==f.threadKey||b[8]!==h?(a=function(){i==null?void 0:i({eventName:"send_hot_emoji",extraData:o,flowInstanceId:n}),e(d("IGDWebHeartConst").HEART_BUTTON_UNICODE,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"IGDHeartLikeButton"),l.onReady(function(a){return c("promiseDone")(g.then(function(b){return a.log(b,void 0,f.threadKey,"composer","reaction",void 0,void 0,void 0,void 0,"reaction",h)}))})},p=[i,o,n,e,g,f.threadKey,h],b[2]=i,b[3]=o,b[4]=n,b[5]=e,b[6]=g,b[7]=f.threadKey,b[8]=h,b[9]=a,b[10]=p):(a=b[9],p=b[10]);a=d("Int64Hooks").useCallbackInt64(a,p);b[11]===Symbol["for"]("react.memo_cache_sentinel")?(p=k.jsx(c("IGDSHeartOutlineIcon.react"),{alt:m,color:"ig-primary-text","data-testid":void 0}),b[11]=p):p=b[11];b[12]!==a?(p=k.jsx(c("IGDSIconButton.react"),{onClick:a,children:p}),b[12]=a,b[13]=p):p=b[13];return p}g["default"]=a}),226);
__d("IGDSMicrophonePanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(6),d,e,f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M19.5 10.671v.897a7.5 7.5 0 0 1-15 0v-.897",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),e=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",x1:"12",x2:"12",y1:"19.068",y2:"22"}),f=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"8.706",x2:"15.104",y1:"22",y2:"22"}),g=j.jsx("path",{d:"M12 15.745a4 4 0 0 1-4-4V6a4 4 0 0 1 8 0v5.745a4 4 0 0 1-4 4Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=d,b[1]=e,b[2]=f,b[3]=g):(d=b[0],e=b[1],f=b[2],g=b[3]);b[4]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e,f,g]})),b[4]=a,b[5]=d):d=b[5];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDVoiceClipButton.react",["IGDSIconButton.react","IGDSMicrophonePanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","PolarisDirectStrings","getInstamadilloLoggingExtraData","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.c;function a(a){var b=j(14),e=a.thread,f=a.voiceRecorder,g=c("MessengerWebUXLogger").useInteractionLogger(),h=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();b[0]!==e?(a=c("getInstamadilloLoggingExtraData")(e),b[0]=e,b[1]=a):a=b[1];var k=a;b[2]!==k||b[3]!==h?(e={eventName:"composer_audio_button_rendered",extraData:k,flowInstanceId:h},b[2]=k,b[3]=h,b[4]=e):e=b[4];a=c("MessengerWebUXLogger").useImpressionLoggerRef(e);b[5]!==f||b[6]!==g||b[7]!==k||b[8]!==h?(e=function(){navigator.mediaDevices&&c("promiseDone")(navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(a){f.start(a)})),g==null?void 0:g({eventName:"composer_record_audio",extraData:k,flowInstanceId:h})},b[5]=f,b[6]=g,b[7]=k,b[8]=h,b[9]=e):e=b[9];e=e;var l;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(l=i.jsx(c("IGDSMicrophonePanoOutline24Icon.react"),{alt:d("PolarisDirectStrings").VOICE_CLIP_RECORDER_ICON_ALT_TEXT,color:"ig-primary-text",size:24}),b[10]=l):l=b[10];b[11]!==a||b[12]!==e?(l=i.jsx(c("IGDSIconButton.react"),{innerRef:a,onClick:e,children:l}),b[11]=a,b[12]=e,b[13]=l):l=b[13];return l}g["default"]=a}),98);
__d("IGDComposerView.react",["fbt","DisappearingMessagesMode","I64","IGDAiAgentsUtils","IGDComposerAttachmentButton.react","IGDComposerEmojiButton.react","IGDComposerMediaStaging.react","IGDDMModeContextProvider","IGDHeartLikeButton.react","IGDSBox.react","IGDSButton.react","IGDSIconButton.react","IGDThreadListNewMessageLoggingDataContext","IGDVoiceClipButton.react","LSMessagingThreadTypeUtil","MWChatComposerIcons","MWPCometComposerInner.react","MWPThreadCapabilitiesContext","MWPUseVoiceRecorder","MessengerWebUXLogger","PolarisUA","Promise","cr:10023","cr:1273","cr:6023","cr:6869","deferredLoadComponent","getInstamadilloLoggingExtraData","gkx","promiseDone","react","requireDeferred","stylex","useCurrentDisplayMode","useParticipantsExcludingViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));e=l;e.useCallback;var n=e.useContext,o=e.c,p=c("deferredLoadComponent")(c("requireDeferred")("IGDAudioRecorder.react").__setRef("IGDComposerView.react")),q={buttonBar:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},buttonBarHidden:{display:"x1s85apg",$$css:!0},root:{alignItems:"x1qjc9v5",borderTopColor:"x1yvgwvq",borderEndColor:"x1dqoszc",borderBottomColor:"x1ixjvfu",borderStartColor:"xhk4uv",borderTopStartRadius:"x1ke7ulo",borderTopEndRadius:"x3jqge",borderBottomEndRadius:"x1i7howy",borderBottomStartRadius:"x4y8mfe",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xw7yly9",marginEnd:"xktsk01",marginBottom:"x1yztbdb",marginStart:"x1d52u69",$$css:!0},rootDM:{borderTopStyle:"xlya59e",borderEndStyle:"x157eodl",borderBottomStyle:"xpvcztv",borderStartStyle:"x1q04ism",$$css:!0},sendButton:{marginEnd:"xfs2ol5",marginLeft:null,marginRight:null,$$css:!0}};function r(a){var b=o(15),e=a.hidden,f=a.onClick;a=a.thread;var g=c("MessengerWebUXLogger").useInteractionLogger(),i=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),j;b[0]!==a?(j=c("getInstamadilloLoggingExtraData")(a),b[0]=a,b[1]=j):j=b[1];var k=j;b[2]!==k||b[3]!==i?(a={eventName:"composer_send_button_rendered",extraData:k,flowInstanceId:i},b[2]=k,b[3]=i,b[4]=a):a=b[4];j=c("MessengerWebUXLogger").useImpressionLoggerRef(a);b[5]!==f||b[6]!==g||b[7]!==k||b[8]!==i?(a=function(){f(),g==null?void 0:g({eventName:"send_message",extraData:k,flowInstanceId:i})},b[5]=f,b[6]=g,b[7]=k,b[8]=i,b[9]=a):a=b[9];a=a;var l;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._("__JHASH__5ibYHtsbofL__JHASH__"),b[10]=l):l=b[10];b[11]!==e||b[12]!==a||b[13]!==j?(l=m.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",hidden:e,label:l,onClick:a,ref:j,variant:"primary_link",xstyle:q.sendButton}),b[11]=e,b[12]=a,b[13]=j,b[14]=l):l=b[14];return l}function a(a){var e=o(81),f=a.attachmentsSupported,g=a.editor,l=a.editorElementRef,s=a.hasStuffToSend,t=a.hideUploadPlaceholder,u=a.multiple,v=a.onAttachmentsAdded,w=a.onSendMessage,x=a.policyProduct,y=a.sendMessage,z=a.supportedFileTypes,A=a.surface,B=a.thread;t=t===void 0?!1:t;u=u===void 0?!0:u;a=(a=a.emojisSupported)!=null?a:!0;var C=B.threadKey,D;e[0]!==C?(D=d("IGDAiAgentsUtils").isMetaAiThread(C),e[0]=C,e[1]=D):D=e[1];D=D;var E=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();E=E.hasLSThreadBitOffset;var F;e[2]!==E?(F=E(56),e[2]=E,e[3]=F):F=e[3];F=F;var G;e[4]!==E?(G=E(36),e[4]=E,e[5]=G):G=e[5];G=G;var H;e[6]!==E?(H=E(109),e[6]=E,e[7]=H):H=e[7];H=H;var I;e[8]!==E?(I=E(43),e[8]=E,e[9]=I):I=e[9];I=I;var J;e[10]!==B.threadType?(J=d("LSMessagingThreadTypeUtil").isGroup(B.threadType),e[10]=B.threadType,e[11]=J):J=e[11];J=J;var K;e[12]!==E?(K=E(14)&&!d("PolarisUA").isMobile(),e[12]=E,e[13]=K):K=e[13];K=K;var L;e[14]!==E||e[15]!==f?(L=E(2)&&f===!0,e[14]=E,e[15]=f,e[16]=L):L=e[16];E=L;var M=d("MWPUseVoiceRecorder").useVoiceRecorder();f=M.state.stage!=="Unopen";e[17]!==M||e[18]!==w?(L=function(){return c("promiseDone")(M.getVoiceClip().then(function(a){M.reset();w(void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"IGDComposerView.onSendVoiceClip");return(k||(k=b("Promise"))).resolve()}))},e[17]=M,e[18]=w,e[19]=L):L=e[19];L=L;var N=c("useCurrentDisplayMode")();N=N==="dark"?"var(--always-white)":"var(--chat-composer-button-color)";N=N;var O;e[20]!==C?(O={threadKey:C},e[20]=C,e[21]=O):O=e[21];O=c("useParticipantsExcludingViewer")(O);var P=n(d("IGDDMModeContextProvider").IGDDMModeContext);P=P.dmMode;var Q;e[22]===Symbol["for"]("react.memo_cache_sentinel")?(Q=c("gkx")("24011"),e[22]=Q):Q=e[22];Q=Q;var R;e[23]!==y?(R=function(){return y()},e[23]=y,e[24]=R):R=e[24];R=R;P=P===c("DisappearingMessagesMode").ON?q.rootDM:null;var S;e[25]!==P?(S=(i||(i=c("stylex")))([q.root,P]),e[25]=P,e[26]=S):S=e[26];e[27]!==t||e[28]!==u||e[29]!==z||e[30]!==B?(P=m.jsx(c("IGDComposerMediaStaging.react"),{hideUploadPlaceholder:t,multiple:u,supportedFileTypes:z,thread:B}),e[27]=t,e[28]=u,e[29]=z,e[30]=B,e[31]=P):P=e[31];e[32]!==I||e[33]!==J||e[34]!==C||e[35]!==g||e[36]!==O?(t=b("cr:6023")!=null&&I&&J?m.jsx(b("cr:6023"),{editor:g,isAiBotMentionsEnabled:Q,participants:O,threadFBID:(j||(j=d("I64"))).to_string(C)}):null,e[32]=I,e[33]=J,e[34]=C,e[35]=g,e[36]=O,e[37]=t):t=e[37];e[38]===Symbol["for"]("react.memo_cache_sentinel")?(Q="x6s0dn4 x78zum5 x1gg8mnh x1pi30zi xlu9dua",e[38]=Q):Q=e[38];e[39]!==a||e[40]!==f||e[41]!==g||e[42]!==C?(I=a&&!f?m.jsx(c("IGDComposerEmojiButton.react"),{editor:g,threadKey:C}):null,e[39]=a,e[40]=f,e[41]=g,e[42]=C,e[43]=I):I=e[43];e[44]!==f||e[45]!==M||e[46]!==N||e[47]!==L||e[48]!==B||e[49]!==l||e[50]!==g||e[51]!==v||e[52]!==x||e[53]!==A?(J=f?m.jsxs(m.Fragment,{children:[m.jsx(c("IGDSIconButton.react"),{"aria-label":h._("__JHASH__errp_RlaJTi__JHASH__"),onClick:function(){return M.reset()},children:m.jsx(d("MWChatComposerIcons").MWChatComposerIconsMoreActions,{fill:N,isRotated:!0,size:20})}),m.jsx(c("IGDSBox.react"),{flex:"grow",marginEnd:2,marginStart:1,children:m.jsx(p,{voiceRecorder:M})}),m.jsx(r,{onClick:L,thread:B})]}):m.jsx(c("IGDSBox.react"),{flex:"grow",marginEnd:1,marginStart:2,children:m.jsx(c("MWPCometComposerInner.react"),{ariaDescribedBy:h._("__JHASH__RTiaBuM2Ahi__JHASH__").toString(),contentEditableRef:l,editor:g,handlePastedFiles:v,placeholderText:h._("__JHASH__O9X2YGfflJk__JHASH__").toString(),policyProduct:x,surface:A})}),e[44]=f,e[45]=M,e[46]=N,e[47]=L,e[48]=B,e[49]=l,e[50]=g,e[51]=v,e[52]=x,e[53]=A,e[54]=J):J=e[54];e[55]!==f||e[56]!==s||e[57]!==R||e[58]!==B||e[59]!==K||e[60]!==M||e[61]!==E||e[62]!==F||e[63]!==u||e[64]!==v||e[65]!==z||e[66]!==C||e[67]!==H||e[68]!==w||e[69]!==D||e[70]!==G?(O=f?null:m.jsxs(m.Fragment,{children:[m.jsx(r,{hidden:!s,onClick:R,thread:B}),m.jsxs("div",{className:(i||(i=c("stylex")))([q.buttonBar,s&&q.buttonBarHidden]),children:[K?m.jsx(c("IGDVoiceClipButton.react"),{thread:B,voiceRecorder:M}):null,E?m.jsx(c("IGDComposerAttachmentButton.react"),{disabled:!F,multiple:u,onAttachmentsAdded:v,supportedFileTypes:z,threadKey:C}):null,H?m.jsx(c("IGDHeartLikeButton.react"),{onSendMessage:w,thread:B}):null,b("cr:10023")?m.jsx(b("cr:10023"),{}):null,b("cr:6869")!=null&&D?m.jsx(b("cr:6869"),{onSendMessage:w,thread:B}):null,G&&b("cr:1273")!=null?m.jsx(b("cr:1273"),{threadKey:C}):null]})]}),e[55]=f,e[56]=s,e[57]=R,e[58]=B,e[59]=K,e[60]=M,e[61]=E,e[62]=F,e[63]=u,e[64]=v,e[65]=z,e[66]=C,e[67]=H,e[68]=w,e[69]=D,e[70]=G,e[71]=O):O=e[71];e[72]!==I||e[73]!==J||e[74]!==O?(a=m.jsxs("div",{className:Q,children:[I,J,O]}),e[72]=I,e[73]=J,e[74]=O,e[75]=a):a=e[75];e[76]!==S||e[77]!==P||e[78]!==t||e[79]!==a?(N=m.jsxs("div",{className:S,children:[P,t,a]}),e[76]=S,e[77]=P,e[78]=t,e[79]=a,e[80]=N):N=e[80];return N}g["default"]=a}),226);
__d("LSGetFirstAvailableQuickReplyCTAID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(a){return b.sequence([function(a){return b.sortBy(b.db.table(20).fetch(),[["ctaId","DESC"]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([0,1]):(d=a.item,c[0]=b.i64.add(d.ctaId,b.i64.cast([0,1])))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxGetFirstAvailableQuickReplyCTAIDStoredProcedure";e.exports=a}),null);
__d("LSInsertQuickReplyCTA",["LSArrayGetObjectAt","LSGetFirstAvailableQuickReplyCTAID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=c.i64.of_int32(a[3].length),c.i64.gt(d[0],c.i64.cast([0,0]))?c.sequence([function(b){return c.forEach(c.db.table(20).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})},function(a){return c.storedProcedure(b("LSGetFirstAvailableQuickReplyCTAID")).then(function(a){return a=a,d[1]=a[0],a})},function(e){return d[2]=d[1],d[3]=c.i64.of_int32(a[3].length),c.i64.gt(d[3],c.i64.cast([0,0]))?c.loopAsync(d[3],function(e){return d[7]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[3],d[7]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(b){return d[10]=d[8].get("title"),d[8],d[11]=d[8].get("type"),d[8],d[12]=d[8].get("image_url"),d[8],d[13]=d[8].get("platform_token"),d[8],c.db.table(20).add({threadKey:a[0],messageId:a[1],ctaId:d[2],messageTimestampMs:a[2],title:d[10],type_:d[11],imageUrl:d[12],platformToken:d[13]})},function(a){return d[2]=c.i64.add(d[2],c.i64.cast([0,1]))}])}):c.resolve()},function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[3],c.i64.cast([0,0])).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return d[6]=d[4].get("quick_reply_type"),d[4],c.forEach(c.filter(c.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.timestampMs,a[2])&&b.messageId===a[1]}),function(a){var b=a.update;a.item;return b({hasQuickReplies:!0,quickReplyType:d[6]})})}]):c.resolve()},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxInsertQuickReplyCTAStoredProcedure";e.exports=a}),null);