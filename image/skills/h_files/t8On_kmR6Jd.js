;/*FB_PKG_DELIM*/

__d("MWXIconExclamationMarkCircle",["MWXSvgIcon","SVGIcon","cr:9129","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9129")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWV2AttachmentErrorPlaceholderV2.react",["fbt","MWXAspectRatioContainer.react","MWXCircleButton.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","MWXMessageBubbleCornerStyles.react","react","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={content:{alignItems:"x6s0dn4",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){var b=a.connectBottom,e=a.connectTop,f=a.hasAppAttribution,g=a.height,j=a.isRetryableError,m=a.maxHeight,n=a.maxWidth,o=a.onRetry,p=a.outgoing,q=a.width,r=a.xstyle,s=c("useCurrentDisplayMode")();g=(a=g)!=null?a:100;q=(a=q)!=null?a:200;var t=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:p===!0?"right":"left",connectBottom:b,connectTop:e,flatten:f===!0?"bottom":"none"});return k.jsx(c("MWXAspectRatioContainer.react"),{height:g,maxHeight:(a=m)!=null?a:200,maxWidth:(p=n)!=null?p:480,width:q,children:function(a){return k.jsx("div",{className:(i||(i=c("stylex")))([a,l.content,s==="dark"?l.dark:l.light,t,r]),"data-testid":void 0,children:j?k.jsx(c("MWXCircleButton.react"),{color:"white",icon:c("MWXIconRefreshAlt"),label:h._("__JHASH__BGxC_0TtXwE__JHASH__"),onPress:o,size:40,type:"dark-overlay"}):k.jsx("div",{className:"x6s0dn4 x18l40ae x14yjl9h xudhj91 x18nykt9 xww2gxu x14ctfv x78zum5 x1vqgdyp xl56j7k x100vrsf",children:k.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconExclamationMarkCircle"),size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MAWSecureImageAttachmentContentV2.react",["CometPlaceholder.react","FBLogger","MWLSThreadDisplayContext","MWMessageListImageSizingUtils","MWV2AttachmentErrorPlaceholderV2.react","MWV2AttachmentLoadingPlaceholder.react","MWV2ChatImage.react","react","useMAWMediaDownloadManualRetry","useMAWMediaDownloadStatusUIState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.getPreviewUrl,h=a.isGroupedImage,k=a.mediaRenderQpl,l=a.message,m=a.outgoing,n=a.previewHeight;a=a.previewWidth;var o=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();o=d("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(!0,(o=o)!=null?o:void 0,h);var p=o.maxHeight;o=o.maxWidth;var q=c("useMAWMediaDownloadManualRetry")(f,k),r=c("useMAWMediaDownloadStatusUIState")(f,k,"thread");j(function(){l!=null&&(k==null?void 0:k.addPoint("render-image-attachment"))},[k,l]);var s=i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:b,connectTop:e,hasAppAttribution:(f==null?void 0:f.attributionAppName)!=null,height:n,maxHeight:p,maxWidth:o,mediaRenderQpl:k,outgoing:m,width:a}),t=i.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{connectBottom:b,connectTop:e,hasAppAttribution:f.attributionAppName!=null,height:n,isRetryableError:!1,maxHeight:p,maxWidth:o,outgoing:m,width:a});if(l==null)return s;switch(r){case"loading":return s;case"non_retryable_error":k==null?void 0:k.endFail("non_retryable_error");return t;case"retryable_error":k==null?void 0:k.endFail("retryable_error");return i.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{connectBottom:b,connectTop:e,hasAppAttribution:f.attributionAppName!=null,height:n,isRetryableError:!0,maxHeight:p,maxWidth:o,onRetry:q,outgoing:m,width:a});case"downloaded":return i.jsx(c("CometPlaceholder.react"),{fallback:s,children:i.jsx(c("MWV2ChatImage.react"),{attachment:f,connectBottom:b,connectTop:e,getPreviewUrl:g,isGroupedImage:h,isSecure:!0,maxHeight:p,maxWidth:o,mediaRenderQpl:k,message:l,navigateToRouteForMediaViewer:!1,outgoing:m,renderUnsupportedAttachment:function(){return t}})});default:c("FBLogger")("messenger_web_media").mustfix("[MAW Attachment Content] Unknown MediaDownloadStatusUIState %s",r);k==null?void 0:k.endFail("unknown_state");return s}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);